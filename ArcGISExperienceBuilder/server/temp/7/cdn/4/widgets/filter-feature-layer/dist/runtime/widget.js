System.register(["jimu-core","jimu-core/react"],(function(e,t){var o={},r={};return{setters:[function(e){o.DataSourceManager=e.DataSourceManager},function(e){r.default=e.default,r.useEffect=e.useEffect,r.useState=e.useState}],execute:function(){e((()=>{var e={891:e=>{"use strict";e.exports=o},315:e=>{"use strict";e.exports=r}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,n),a.exports}n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="";var a={};return n.p=window.jimuConfig.baseUrl,(()=>{"use strict";n.r(a),n.d(a,{default:()=>o});var e=n(891),t=n(315);function o(o){const[r,n]=(0,t.useState)(""),[a,c]=(0,t.useState)([]),u=e=>{c(e)};(0,t.useEffect)((()=>{var e,t,r;null===(r=null===(t=null===(e=o.widgetRuntimeStateProps)||void 0===e?void 0:e.useSelection)||void 0===t?void 0:t.useSelections)||void 0===r||r.call(t,[o.config.useSelectionId],u)}),[]);const i={backgroundColor:"#0074d9",color:"#fff",padding:"8px 16px",border:"none",borderRadius:"4px",cursor:"pointer",transition:"background-color 0.3s ease-out"},l="#fff",s="#0074d9";return t.default.createElement("div",{className:"widget-get-map-coordinates jimu-widget p-2"},t.default.createElement("div",null,t.default.createElement("button",{style:i,onClick:()=>{return t=this,n=void 0,u=function*(){if(o.useDataSources.length>0){const t=e.DataSourceManager.getInstance(),n=o.useDataSources[0],c=t.getDataSource(n.dataSourceId),u={where:`${o.config.filterField} LIKE '%${r}%'`};if(a.length>0){const e=a.map((e=>e.attributes[n.objectIdField])),t=n.objectIdField;u.where+=` AND ${t} IN (${e.join(",")})`}const i=function(e){const t=new WeakSet;return function e(o){if("object"==typeof o&&null!==o){if(t.has(o))return"[Circular Reference]";if(t.add(o),Array.isArray(o))return o.map((t=>e(t)));{const t={};for(const r in o)o.hasOwnProperty(r)&&(t[r]=e(o[r]));return t}}return o}(e)}(yield c.query(u)),l=JSON.stringify(i);console.log(l);try{(yield fetch("https://lifehealth.life/api/bip-callback",{method:"POST",headers:{"Content-Type":"application/json"},body:l})).ok&&setTimeout((function(){window.open("https://lifehealth.life/meetings","_blank")}),5e3),console.log("Data sent to API successfully")}catch(e){console.error(e)}}},new((c=void 0)||(c=Promise))((function(e,o){function r(e){try{i(u.next(e))}catch(e){o(e)}}function a(e){try{i(u.throw(e))}catch(e){o(e)}}function i(t){var o;t.done?e(t.value):(o=t.value,o instanceof c?o:new c((function(e){e(o)}))).then(r,a)}i((u=u.apply(t,n||[])).next())}));var t,n,c,u},onMouseEnter:e=>{e.target.style.backgroundColor=l,e.target.style.color=s},onMouseLeave:e=>{e.target.style.backgroundColor=i.backgroundColor,e.target.style.color=i.color},onMouseDown:e=>{e.target.style.backgroundColor=l,e.target.style.color=s},onMouseUp:e=>{e.target.style.backgroundColor=i.backgroundColor,e.target.style.color=i.color}},"Life Connect")))}})(),a})())}}}));